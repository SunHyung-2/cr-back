<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.amaranth10.cr.mapper.CommonMapper">
	<select id="selectKlagoVersion" parameterType="java.util.Map" resultType="com.amaranth10.backendcommon.util.model.patch.VersionInfo">
		SELECT 
			(SELECT setup_version_seq FROM ${DB_NEOS}.t_co_group) AS "lastVer"
			, box_ver_seq AS "curVer"
		FROM ${DB_NEOS}.t_co_patch
		ORDER BY seq DESC
		LIMIT 1
	</select>

	<select id="selectPatchTokens" parameterType="java.util.Map" resultType="com.amaranth10.backendcommon.util.model.patch.PatchToken">
		SELECT group_seq AS "groupSeq"
			, mobile_id AS "mobileId"
		FROM ${DB_NEOS}.t_co_group;
	</select>
</mapper>